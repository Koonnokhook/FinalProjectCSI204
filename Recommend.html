<!DOCTYPE html>
<html lang="en">

<head>
    <title>School of Information Technology</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai+Looped:wght@300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./resources/css/store.css">
    <link rel="stylesheet" href="./resources/css/recommend.css">
    <script src="./resources/js/Google Sheet.js"></script>
</head>

<body>
    <div class="row" style="height: 670px; width:100%; padding: 50px;  ">
        <form method="post" id="resForm1" class="col" action="https://script.google.com/macros/s/AKfycbw7UGMuMupMHj4Fi9rBRtBi9dqV_ojcUH2qbhF_EH4RleuQzSHau46_lrRaIPZKFzjX/exec">
            <div>
                <p>ฟอร์มกรอกข้อมูลร้านอาหาร</p>
                <div class="row">
                    <span class="col-md-6">
                        <input id="txtName" type="text" name="your-name" class="form-control" placeholder="กรุณากรอกชื่อร้านอาหาร" required />
                    </span>
                    <span class="col-md-6">
                        <input id="txtTel" type="text" name="your-telephone" class="form-control" placeholder="หมายเลขติดต่อโทรศัพท์" required />
                    </span>
                </div>
            </div>
            <div style="margin-top: 10px;">
                <p>ที่อยู่ร้านอาหาร</p>
                <textarea id="txtAddress" name="your-address" class="form-control" rows="4" cols="50" required></textarea>
            </div>
            <div style="margin-top: 10px;">
                <p>รีวิวแบบย่อ</p>
                <textarea id="txtReview" name="your-review" class="form-control" rows="4" cols="50" required></textarea>
            </div>

            <div style="padding: 20px;">
                <input type="submit" value="Submit" id="submit" class="button btn-primary">
                <button onclick="formChecker();" type="button" class="btn btn-success">ส่งข้อมูล</button>
                <button onclick="showData();" type="button" class="btn btn-warning">แสดงข้อมูล</button>
            </div>
        </form>

        <form id="resForm2" class="col" >
            <div>
                <p>แสดงฟอร์มกรอกข้อมูลร้านอาหาร</p>
                <div class="row">
                    <span class="col-md-6">
                        <input id="txtDisplayName"  type="text" class="form-control" placeholder="ชื่อร้านอาหาร" readonly />
                    </span>
                    <span class="col-md-6">
                        <input id="txtDisplayTel" type="text" class="form-control" placeholder="หมายเลขติดต่อโทรศัพท์" readonly />
                    </span>
                </div>
            </div>
            <div style="margin-top: 10px;">
                <p>ที่อยู่ร้านอาหาร</p>
                <textarea id="txtDisplayAddress" class="form-control" rows="4" cols="50" readonly></textarea>
            </div>
            <div style="margin-top: 10px;">
                <p>รีวิวแบบย่อ</p>
                <textarea id="txtDisplayReview" class="form-control" rows="4" cols="50" readonly></textarea>
            </div>
            <div style="padding: 20px;">
                <button type="button" class="btn btn-danger" onclick="clearData();">เคลียร์ข้อมูล</button>
            </div>
        </form>
    </div>

<script>
    const form1 = document.getElementById('resForm1');
    const form2 = document.getElementById('resForm2');

    const formChecker = () => {
        // Get values from form fields
        const name = document.getElementById('txtName').value;
        const tel = document.getElementById('txtTel').value;
        const address = document.getElementById('txtAddress').value;
        const review = document.getElementById('txtReview').value;

        if (name !== "" && tel !== "" && address !== "" && review !== "") {
            // Store data in localStorage
            localStorage.setItem('resName', name);
            localStorage.setItem('resTel', tel);
            localStorage.setItem('resAddress', address);
            localStorage.setItem('resReview', review);
            alert("Thank you for the information. We'll go obtain the data for review later. :D");
        } else {
            alert("Please fill in all required fields.");
        }
    }

    const showData = () => {
        // Retrieve data from localStorage and display it
        document.getElementById('txtDisplayName').value = localStorage.getItem('resName');
        document.getElementById('txtDisplayTel').value = localStorage.getItem('resTel');
        document.getElementById('txtDisplayAddress').value = localStorage.getItem('resAddress');
        document.getElementById('txtDisplayReview').value = localStorage.getItem('resReview');
    }

    const clearData = () => {
        // Remove data from localStorage
        localStorage.removeItem('resName');
        localStorage.removeItem('resTel');
        localStorage.removeItem('resAddress');
        localStorage.removeItem('resReview');

        // Clear the form
        form1.reset();
        form2.reset();
    }
</script>

</html>
